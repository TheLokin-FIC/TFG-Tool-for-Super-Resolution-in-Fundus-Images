@page "{architecture}"
@model Web.Pages.MachineLearningModel.SuperResolution.IndexModel
@{
    ViewData["Title"] = "Super Resolution";
}

<div class="try-it">
    <div class="result-area">
        @if (Model.ImageByte64 != null)
        {
            <img src="@Model.ImageByte64" />
        }
        else
        {
            <i class="fa fa-file-image-o"></i>
        }
        <svg class="spinner" viewBox="0 0 66 66" xmlns="http://www.w3.org/2000/svg">
            <circle class="path-background" fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30"></circle>
            <circle class="path-foreground" fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30"></circle>
        </svg>
    </div>
</div>

<div class="info">
    <h1>@string.Concat(ViewData["Title"], " ", RouteData.Values["architecture"])</h1>
    <p class="description">With super resolution powered by deep learning, you can increase the resolution of your images without losing rich features.</p>
    <form method="post" enctype="multipart/form-data">
        <div class="form-group">
            <div class="form-check form-check-inline">
                <label class="form-check-label">Upscale factor</label>
            </div>
            @foreach (var item in Model.SuperResolutionModelDetails)
            {
                var id = string.Concat("upscale", item.UpscaleFactor.ToString(), "x");
                var isChecked = (item.UpscaleFactor == Model.ModelId) ? "checked" : string.Empty;
                <div class="form-check form-check-inline">
                    <input asp-for="@Model.ModelId" class="form-check-input" type="radio" value="@item.Id" id="@id" @isChecked />
                    <label class="form-check-label" for="id">@string.Concat(item.UpscaleFactor.ToString(), "x")</label>
                </div>
            }
        </div>
        <div class="form-group">
            <input asp-for="@Model.InputFile" class="input-file form-control-file" type="file" accept="image/*" id="file">
            <label class="btn btn-file btn-block" for="file">
                <i class="icon-file fa"></i>
                <span class="js-filename">Choose an image</span>
            </label>
            <span asp-validation-for="@Model.InputFile"></span>
        </div>
        <button class="btn btn-primary btn-block" type="submit">Upload</button>
    </form>
</div>